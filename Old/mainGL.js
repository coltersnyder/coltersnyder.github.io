function main(){function t(r){const i=(r*=.001)-a;a=r,drawScene(e,o,n,i),requestAnimationFrame(t)}const e=document.querySelector("#mainCanvas").getContext("webgl");if(null===e)return void alert("Unable to Initialize WebGL. Your Browser May Not Support It.");const r=initShaderProgram(e,"\n        attribute vec4 aVertexPosition;\n        attribute vec4 aVertexColor;\n        \n        uniform mat4 uModelViewMatrix;\n        uniform mat4 uProjectionMatrix;\n        \n        varying lowp vec4 vColor;\n        \n        void main() {\n            gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n            vColor = aVertexColor;\n        }\n    ","\n        varying lowp vec4 vColor;\n    \n        void main() {\n            gl_FragColor = vColor;\n        }\n    "),o={program:r,attribLocations:{vertexPosition:e.getAttribLocation(r,"aVertexPosition"),vertexColor:e.getAttribLocation(r,"aVertexColor")},uniformLocations:{projectionMatrix:e.getUniformLocation(r,"uProjectionMatrix"),modelViewMatrix:e.getUniformLocation(r,"uModelViewMatrix")}},n=initBuffers(e);var a=0;requestAnimationFrame(t)}function drawScene(t,e,r,o){t.clearColor(0,0,0,1),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);const n=45*Math.PI/180,a=t.canvas.clientWidth/t.canvas.clientHeight,i=.1,c=100,u=mat4.create();mat4.perspective(u,n,a,i,c);const E=mat4.create();mat4.translate(E,E,[-0,0,-6]),mat4.rotate(E,E,cubeRotation,[0,0,1]),mat4.rotate(E,E,.7*cubeRotation,[0,1,0]);{const o=3,n=t.FLOAT,a=!1,i=0,c=0;t.bindBuffer(t.ARRAY_BUFFER,r.position),t.vertexAttribPointer(e.attribLocations.vertexPosition,o,n,a,i,c),t.enableVertexAttribArray(e.attribLocations.vertexPosition)}{const o=4,n=t.FLOAT,a=!1,i=0,c=0;t.bindBuffer(t.ARRAY_BUFFER,r.color),t.vertexAttribPointer(e.attribLocations.vertexColor,o,n,a,i,c),t.enableVertexAttribArray(e.attribLocations.vertexColor)}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.indices),t.useProgram(e.program),t.uniformMatrix4fv(e.uniformLocations.projectionMatrix,!1,u),t.uniformMatrix4fv(e.uniformLocations.modelViewMatrix,!1,E);{const e=0,r=36,o=t.UNSIGNED_SHORT;t.drawElements(t.TRIANGLES,r,o,e)}cubeRotation+=o}function initBuffers(t){const e=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,e);const r=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1];t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW);const o=[[1,1,1,1],[1,0,0,1],[0,1,0,1],[0,0,1,1],[1,1,0,1],[1,0,1,1]];for(var n=[],a=0;a<o.length;++a){const t=o[a];n=n.concat(t,t,t,t)}const i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW);const c=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c);const u=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];return t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(u),t.STATIC_DRAW),{position:e,color:i,indices:c}}function initShaderProgram(t,e,r){const o=loadShader(t,t.VERTEX_SHADER,e),n=loadShader(t,t.FRAGMENT_SHADER,r),a=t.createProgram();return t.attachShader(a,o),t.attachShader(a,n),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)?a:(alert("Unable to initialize the shader program: "+t.getProgramInfoLog(a)),null)}function loadTexture(t,e){const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const o=0,n=t.RGBA,a=1,i=1,c=0,u=t.RGBA,E=t.UNSIGNED_BYTE,l=new Uint8Array([0,0,255,255]);t.texImage2D(t.TEXTURE_2D,o,n,a,i,c,u,E,l);const R=new Image;return R.onload=function(){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,o,n,u,E,R),isPowerOf2(R.width)&&isPowerOf2(R.height)?t.generateMipmap(t.TEXTURE_2D):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR))},R.src=e,r}function loadShader(t,e,r){const o=t.createShader(e);return t.shaderSource(o,r),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(alert("An error occurred compiling the shaders: "+t.getShaderInfoLog(o)),t.deleteShader(o),null)}function isPowerOf2(t){return 0==(t&t-1)}var cubeRotation=0;main(),window.onload=main;